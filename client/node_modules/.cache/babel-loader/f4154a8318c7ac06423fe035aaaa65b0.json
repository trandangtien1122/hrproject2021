{"ast":null,"code":"var _jsxFileName = \"/home/hostwebsite/hrproject2021/client/src/components/login.js\";\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport Form from \"react-validation/build/form\";\nimport Input from \"react-validation/build/input\";\nimport CheckButton from \"react-validation/build/button\";\nimport './Semantic/semantic.min.css';\nimport './style.css';\nimport { Button, Modal } from 'semantic-ui-react';\nimport Register from './RegisterForm';\nimport Main_login from \"./main_login\";\nimport AuthService from \"../services/auth_service\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction Load_main_login() {\n  ReactDOM.render( /*#__PURE__*/_jsxDEV(Main_login, {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 17,\n    columnNumber: 21\n  }, this), document.getElementById(\"root\"));\n}\n\n_c = Load_main_login;\n\nfunction Register_open() {\n  ReactDOM.render( /*#__PURE__*/_jsxDEV(Register, {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 21,\n    columnNumber: 21\n  }, this), document.getElementById(\"main_root\"));\n}\n\n_c2 = Register_open;\n\nconst required = value => {\n  if (!value) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"alert alert-danger\",\n      role: \"alert\",\n      children: \"This field is required!\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 13\n    }, this);\n  }\n};\n\nexport default class Login extends React.Component {\n  constructor(props) {\n    super(props);\n    this.handleLogin = this.handleLogin.bind(this);\n    this.onChangeUsername = this.onChangeUsername.bind(this);\n    this.onChangePassword = this.onChangePassword.bind(this);\n    this.onChangeOpen1 = this.onChangeOpen1.bind(this);\n    this.onChangeClose1 = this.onChangeClose1.bind(this);\n    this.onChangeSecondOpen = this.onChangeSecondOpen.bind(this);\n    this.onChangeSecondClose = this.onChangeSecondClose.bind(this); // const [open1, setOpen] = React.useState(false)\n    // const [secondOpen, setSecondOpen] = React.useState(false)\n\n    this.state = {\n      username: \"\",\n      password: \"\",\n      loading: false,\n      message: \"\",\n      open1: false,\n      secondOpen: false\n    };\n  }\n\n  onChangeOpen1(e) {\n    e.preventDefault();\n    this.setState({\n      open1: true\n    });\n  }\n\n  onChangeClose1(e) {\n    e.preventDefault();\n    this.setState({\n      open1: false\n    });\n  }\n\n  onChangeSecondOpen(e) {\n    e.preventDefault();\n    this.setState({\n      secondOpen: true\n    });\n  }\n\n  onChangeSecondClose(e) {\n    e.preventDefault();\n    this.setState({\n      secondOpen: false\n    });\n  }\n\n  onChangeUsername(e) {\n    this.setState({\n      username: e.target.value\n    });\n  }\n\n  onChangePassword(e) {\n    this.setState({\n      password: e.target.value\n    });\n  }\n\n  handleLogin(e) {\n    e.preventDefault();\n    this.setState({\n      message: \"\",\n      loading: true\n    });\n    this.form.validateAll();\n\n    if (this.checkBtn.context._errors.length === 0) {\n      AuthService.login(this.state.username, this.state.password).then(() => {\n        this.props.history.push(\"/profile\");\n        window.location.reload();\n      }, error => {\n        const resMessage = error.response && error.response.data && error.response.data.message || error.message || error.toString();\n        this.setState({\n          loading: false,\n          message: resMessage\n        });\n      });\n    } else {\n      this.setState({\n        loading: false\n      });\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(Modal, {\n        onClose: this.onChangeClose1,\n        onOpen: this.onChangeOpen1,\n        open: this.state.open1,\n        trigger: /*#__PURE__*/_jsxDEV(\"a\", {\n          href: \"#\",\n          className: \"black\",\n          children: [/*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"black user circle outline icon\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 140,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"black color_text\",\n            children: \"Login\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 140,\n            columnNumber: 75\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 30\n        }, this),\n        children: [/*#__PURE__*/_jsxDEV(Modal.Content, {\n          children: /*#__PURE__*/_jsxDEV(Modal.Description, {\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"ui container\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"ui placeholder segment\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"ui two column very relaxed stackable grid\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"column\",\n                    children: /*#__PURE__*/_jsxDEV(Form, {\n                      onSubmit: this.handleLogin,\n                      ref: c => {\n                        this.form = c;\n                      },\n                      class: \"ui form\",\n                      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"field\",\n                        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                          children: \"Username\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 157,\n                          columnNumber: 53\n                        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"ui left icon input\",\n                          children: [/*#__PURE__*/_jsxDEV(Input, {\n                            type: \"text\",\n                            name: \"username\",\n                            placeholder: \"Username\",\n                            value: this.state.username,\n                            onChange: this.onChangeUsername,\n                            validations: [required]\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 159,\n                            columnNumber: 57\n                          }, this), /*#__PURE__*/_jsxDEV(\"i\", {\n                            className: \"user icon\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 167,\n                            columnNumber: 57\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 158,\n                          columnNumber: 53\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 156,\n                        columnNumber: 49\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"field\",\n                        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                          children: \"Password\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 171,\n                          columnNumber: 53\n                        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"ui left icon input\",\n                          children: [/*#__PURE__*/_jsxDEV(Input, {\n                            type: \"password\",\n                            name: \"password\",\n                            value: this.state.password,\n                            onChange: this.onChangePassword,\n                            validations: [required]\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 173,\n                            columnNumber: 57\n                          }, this), /*#__PURE__*/_jsxDEV(\"i\", {\n                            className: \"lock icon\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 180,\n                            columnNumber: 57\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 172,\n                          columnNumber: 53\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 170,\n                        columnNumber: 49\n                      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                        className: \"ui big blue submit button\",\n                        disabled: this.state.loading,\n                        onClick: Load_main_login,\n                        children: [this.state.loading && /*#__PURE__*/_jsxDEV(\"span\", {}, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 188,\n                          columnNumber: 53\n                        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                          children: \"Login\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 190,\n                          columnNumber: 49\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 183,\n                        columnNumber: 49\n                      }, this), this.state.message && /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"form-group\",\n                        children: /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"alert alert-danger\",\n                          role: \"alert\",\n                          children: this.state.message\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 194,\n                          columnNumber: 57\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 193,\n                        columnNumber: 53\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 149,\n                      columnNumber: 45\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 148,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"middle aligned column\",\n                    children: /*#__PURE__*/_jsxDEV(\"button\", {\n                      className: \"ui big button\",\n                      onClick: this.onChangeSecondOpen,\n                      primary: true,\n                      children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                        className: \"signup icon\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 203,\n                        columnNumber: 49\n                      }, this), \"Sign Up\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 202,\n                      columnNumber: 45\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 201,\n                    columnNumber: 41\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 147,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"ui vertical divider\",\n                  children: \"Or\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 209,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 146,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 145,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 144,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Modal.Actions, {\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"ui grid\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"row\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"center aligned  column\",\n                children: /*#__PURE__*/_jsxDEV(\"h4\", {\n                  children: \" Wellcome HR Lotus\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 220,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 219,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 218,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 217,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 216,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Modal, {\n        onClose: this.onChangeSecondClose,\n        open: this.state.secondOpen,\n        size: \"small\",\n        children: [/*#__PURE__*/_jsxDEV(Modal.Content, {\n          children: /*#__PURE__*/_jsxDEV(Register, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 234,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 233,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Modal.Actions, {\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            icon: \"check\",\n            content: \"All Done\",\n            onClick: this.onChangeSecondClose\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 237,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 236,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 228,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true);\n  }\n\n}\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"Load_main_login\");\n$RefreshReg$(_c2, \"Register_open\");","map":{"version":3,"sources":["/home/hostwebsite/hrproject2021/client/src/components/login.js"],"names":["React","ReactDOM","Form","Input","CheckButton","Button","Modal","Register","Main_login","AuthService","Load_main_login","render","document","getElementById","Register_open","required","value","Login","Component","constructor","props","handleLogin","bind","onChangeUsername","onChangePassword","onChangeOpen1","onChangeClose1","onChangeSecondOpen","onChangeSecondClose","state","username","password","loading","message","open1","secondOpen","e","preventDefault","setState","target","form","validateAll","checkBtn","context","_errors","length","login","then","history","push","window","location","reload","error","resMessage","response","data","toString","c"],"mappings":"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","sourcesContent":["import React from 'react'\r\nimport ReactDOM from 'react-dom';\r\n\r\nimport Form from \"react-validation/build/form\";\r\nimport Input from \"react-validation/build/input\";\r\nimport CheckButton from \"react-validation/build/button\";\r\n\r\nimport './Semantic/semantic.min.css'\r\nimport './style.css'\r\nimport {Button, Modal} from 'semantic-ui-react'\r\nimport Register from './RegisterForm'\r\nimport Main_login from \"./main_login\";\r\nimport AuthService from \"../services/auth_service\";\r\n\r\n\r\nfunction Load_main_login(){\r\n    ReactDOM.render(<Main_login/>, document.getElementById(\"root\"))\r\n}\r\n\r\nfunction Register_open(){\r\n    ReactDOM.render(<Register />, document.getElementById(\"main_root\"))\r\n}\r\n\r\nconst required = value => {\r\n    if (!value) {\r\n        return (\r\n            <div className=\"alert alert-danger\" role=\"alert\">\r\n                This field is required!\r\n            </div>\r\n        );\r\n    }\r\n};\r\n\r\nexport default class Login extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.handleLogin = this.handleLogin.bind(this);\r\n        this.onChangeUsername = this.onChangeUsername.bind(this);\r\n        this.onChangePassword = this.onChangePassword.bind(this);\r\n        this.onChangeOpen1 = this.onChangeOpen1.bind(this);\r\n        this.onChangeClose1 = this.onChangeClose1.bind(this);\r\n        this.onChangeSecondOpen = this.onChangeSecondOpen.bind(this);\r\n        this.onChangeSecondClose = this.onChangeSecondClose.bind(this);\r\n        // const [open1, setOpen] = React.useState(false)\r\n        // const [secondOpen, setSecondOpen] = React.useState(false)\r\n\r\n        this.state = {\r\n            username: \"\",\r\n            password: \"\",\r\n            loading: false,\r\n            message: \"\",\r\n            open1: false,\r\n            secondOpen: false\r\n        };\r\n    }\r\n\r\n    onChangeOpen1(e) {\r\n        e.preventDefault();\r\n        this.setState({\r\n            open1: true\r\n        });\r\n    }\r\n\r\n    onChangeClose1(e) {\r\n        e.preventDefault();\r\n        this.setState({\r\n            open1: false\r\n        });\r\n    }\r\n\r\n    onChangeSecondOpen(e) {\r\n        e.preventDefault();\r\n        this.setState({\r\n            secondOpen: true\r\n        });\r\n    }\r\n    onChangeSecondClose(e) {\r\n        e.preventDefault();\r\n        this.setState({\r\n            secondOpen: false\r\n        });\r\n    }\r\n\r\n    onChangeUsername(e) {\r\n        this.setState({\r\n            username: e.target.value\r\n        });\r\n    }\r\n\r\n    onChangePassword(e) {\r\n        this.setState({\r\n            password: e.target.value\r\n        });\r\n    }\r\n\r\n    handleLogin(e) {\r\n        e.preventDefault();\r\n\r\n        this.setState({\r\n            message: \"\",\r\n            loading: true\r\n        });\r\n\r\n        this.form.validateAll();\r\n\r\n        if (this.checkBtn.context._errors.length === 0) {\r\n            AuthService.login(this.state.username, this.state.password).then(\r\n                () => {\r\n                    this.props.history.push(\"/profile\");\r\n                    window.location.reload();\r\n                },\r\n                error => {\r\n                    const resMessage =\r\n                        (error.response &&\r\n                            error.response.data &&\r\n                            error.response.data.message) ||\r\n                        error.message ||\r\n                        error.toString();\r\n\r\n                    this.setState({\r\n                        loading: false,\r\n                        message: resMessage\r\n                    });\r\n                }\r\n            );\r\n        } else {\r\n            this.setState({\r\n                loading: false\r\n            });\r\n        }\r\n    }\r\n    render(){\r\n        return (\r\n            <>\r\n                <Modal\r\n                    onClose= {this.onChangeClose1}\r\n                    onOpen={this.onChangeOpen1}\r\n                    open={this.state.open1}\r\n                    trigger={<a href='#' className='black'>\r\n                        <i className=\"black user circle outline icon\"></i><span className='black color_text'>Login</span>\r\n                    </a>}\r\n                >\r\n                    <Modal.Content>\r\n                        <Modal.Description>\r\n                            <div className='ui container'>\r\n                                <div className=\"ui placeholder segment\">\r\n                                    <div className=\"ui two column very relaxed stackable grid\">\r\n                                        <div className=\"column\">\r\n                                            <Form\r\n                                                onSubmit={this.handleLogin}\r\n                                                ref={c => {\r\n                                                    this.form = c;\r\n                                                }}\r\n                                                class=\"ui form\"\r\n                                            >\r\n                                                <div className=\"field\">\r\n                                                    <label>Username</label>\r\n                                                    <div className=\"ui left icon input\">\r\n                                                        <Input\r\n                                                            type=\"text\"\r\n                                                            name=\"username\"\r\n                                                            placeholder=\"Username\"\r\n                                                            value={this.state.username}\r\n                                                            onChange={this.onChangeUsername}\r\n                                                            validations={[required]}\r\n                                                        />\r\n                                                        <i className=\"user icon\"></i>\r\n                                                    </div>\r\n                                                </div>\r\n                                                <div className=\"field\">\r\n                                                    <label>Password</label>\r\n                                                    <div className=\"ui left icon input\">\r\n                                                        <Input\r\n                                                            type=\"password\"\r\n                                                            name=\"password\"\r\n                                                            value={this.state.password}\r\n                                                            onChange={this.onChangePassword}\r\n                                                            validations={[required]}\r\n                                                        />\r\n                                                        <i className=\"lock icon\"></i>\r\n                                                    </div>\r\n                                                </div>\r\n                                                <button className=\"ui big blue submit button\"\r\n                                                        disabled={this.state.loading}\r\n                                                        onClick={Load_main_login}\r\n                                                >\r\n                                                {this.state.loading && (\r\n                                                    <span></span>\r\n                                                )}\r\n                                                <span>Login</span>\r\n                                                </button>\r\n                                                {this.state.message && (\r\n                                                    <div className=\"form-group\">\r\n                                                        <div className=\"alert alert-danger\" role=\"alert\">\r\n                                                            {this.state.message}\r\n                                                        </div>\r\n                                                    </div>\r\n                                                )}\r\n                                            </Form>\r\n                                        </div>\r\n                                        <div className=\"middle aligned column\">\r\n                                            <button className='ui big button' onClick={this.onChangeSecondOpen} primary>\r\n                                                <i className=\"signup icon\"></i>\r\n                                                Sign Up\r\n                                            </button>\r\n\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className=\"ui vertical divider\">\r\n                                        Or\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </Modal.Description>\r\n                    </Modal.Content>\r\n                    <Modal.Actions>\r\n                        <div className='ui grid'>\r\n                            <div className='row'>\r\n                                <div className='center aligned  column'>\r\n                                    <h4> Wellcome HR Lotus</h4>\r\n                                </div>\r\n                            </div>\r\n\r\n                        </div>\r\n\r\n                    </Modal.Actions>\r\n                </Modal>\r\n                <Modal\r\n                    onClose={this.onChangeSecondClose}\r\n                    open={this.state.secondOpen}\r\n                    size='small'\r\n                >\r\n                    <Modal.Content>\r\n                        <Register/>\r\n                    </Modal.Content>\r\n                    <Modal.Actions>\r\n                        <Button\r\n                            icon='check'\r\n                            content='All Done'\r\n                            onClick={this.onChangeSecondClose}\r\n                        />\r\n                    </Modal.Actions>\r\n                </Modal>\r\n            </>\r\n        );\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}